---
layout: post
title: "[Algo] ë°±ì¤€ 1516 ê²Œì„ ê°œë°œ JAVA "
date: 2023-07-20 22:15:00 +0900
categories: Algorithm
---

ë¬¸ì œ ë°”ë¡œê°€ê¸° : [https://www.acmicpc.net/problem/1516](https://www.acmicpc.net/problem/1516)

ë©”ëª¨ë¦¬ : 22260KB

ì‹œê°„ : 288ms

ì–¸ì–´ : Java 11

---

### í’€ì´

```Java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.LinkedList;
import java.util.List;
import java.util.Queue;
import java.util.StringTokenizer;

public class Main {

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringBuilder sb = new StringBuilder();
        int N = Integer.parseInt(br.readLine());
        StringTokenizer st;
        Queue<Integer> q = new LinkedList<>();
        List<List<Integer>> list = new ArrayList<>();
        int[] time = new int[N + 1];
        int[] ans = new int[N + 1];
        int[] cnt = new int[N + 1];
        for (int i = 0; i <= N; i++) {
            list.add(new ArrayList<>());
        }
        for (int i = 1; i <= N; i++) {
            st = new StringTokenizer(br.readLine());
            time[i] = Integer.parseInt(st.nextToken());
            int num = Integer.parseInt(st.nextToken());
            if (num == -1) {
                ans[i] = time[i];
                q.add(i);
            } else {
                cnt[i]++;
                list.get(num).add(i);
                while (true) {
                    num = Integer.parseInt(st.nextToken());
                    if (num == -1)
                        break;
                    cnt[i]++;
                    list.get(num).add(i);
                }
            }
        }
        while (!q.isEmpty()) {
            int now = q.poll();
            for (int next : list.get(now)) {
                cnt[next]--;
                ans[next] = Math.max(ans[now] + time[next], ans[next]);
                if (cnt[next] == 0)
                    q.add(next);
            }
        }
        for (int i = 1; i <= N; i++) {
            sb.append(ans[i]).append("\n");
        }
        System.out.print(sb);
    }
}
```

### í’€ì´

ìˆœì„œë¥¼ ì§€ì¼œê°€ë©° í•´ê²°í•´ì•¼í•˜ëŠ” ë¬¸ì œì´ê¸°ë•Œë¬¸ì— ìœ„ìƒì •ë ¬ì„ ì´ìš©í•´ í’€ ìˆ˜ ìˆë‹¤.
ì–´ë–¤ ê±´ë¬¼ Aë¥¼ ì§“ê¸° ì „ ì§€ì–´ì•¼ í•˜ëŠ” ê±´ë¬¼ë“¤ì„ ì´ì–´ë³´ë©´ íŠ¸ë¦¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë¬¸ì œì— ì¼€ì´ìŠ¤ëŠ” ëª¨ë‘ ê±´ë¬¼ì„ ì§€ì„ ìˆ˜ ìˆëŠ” ê²½ìš°ë¡œ ì£¼ì–´ì§„ë‹¤ê³  í–ˆìœ¼ë‹ˆ ë§¨ ì²˜ìŒ ì¡°ê±´ì—†ì´ ì§€ì„ ìˆ˜ ìˆëŠ” ê±´ë¬¼ë“¤ì„ ì‹œì‘ìœ¼ë¡œ í•˜ë‚˜ì”© ì§€ì–´ë‚˜ê°€ë©´ ëœë‹¤. ê±´ë¬¼ì„ ì§€ì–´ê°€ë©° Queueì— ë„£ì–´ì£¼ë©´ ë˜ëŠ”ë°, cntë°°ì—´ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ë•Œ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒí•œë‹¤. Queueì—ëŠ” ê±´ë¬¼ì´ í•œ ë²ˆì”©ë§Œ ë“¤ì–´ê°€ì•¼í•˜ëŠ”ë° ì´ë¥¼ ìœ„í•´ `ì¡°ê±´ì´ ë§Œì¡±ëœ ê±´ë¬¼`ë§Œ ë„£ì–´ì£¼ê¸° ìœ„í•´ cntë°°ì—´ì„ ì‚¬ìš©í•œë‹¤. ì•ì„  ê±´ë¬¼ì´ ì™„ê³µë˜ë©´ ì¦‰ cntê°€ 0ì´ë©´ ê³µì‚¬ë¥¼ í•  ìˆ˜ ìˆëŠ” ìˆœì„œê°€ ë˜ì–´ Queueì— ì…ì¥í•˜ëŠ” ê²ƒì´ë‹¤.

++ "ìœ„ìƒ"ì´ë¼ëŠ” ë§ì´ ê¶ê¸ˆí•´ì„œ ì‚¬ì „ì„ ì°¾ì•„ë³´ë‹ˆ ê´€ê³„ ì†ì—ì„œ ê°€ì§€ëŠ” ìœ„ì¹˜ë¼ëŠ” ë§ì´ì—ˆë‹¤. ìœ„ìƒìˆ˜í•™ì´ë¼ëŠ” ê²ƒë„ ìˆì—ˆë‹¤. ë­”ê°€ í•­ìƒ ì• ë§¤í•œ ê°œë…ì´ì—ˆëŠ”ë° ëœ»ì„ ì•Œê³ ë‚˜ë‹ˆ ì˜¤ë˜ ê¸°ì–µí• ê²ƒê°™ì€ ê¸°ë¶„ğŸ˜
